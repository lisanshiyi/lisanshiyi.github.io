(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{336:function(a,s,e){"use strict";e.r(s);var t=e(7),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("blockquote",[s("p",[a._v("以下都是基于 Mac 环境的搭建细节，其他环境请做简单调整")])]),a._v(" "),s("h2",{attrs:{id:"anaconda介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#anaconda介绍"}},[a._v("#")]),a._v(" Anaconda介绍")]),a._v(" "),s("h3",{attrs:{id:"什么是-anaconda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-anaconda"}},[a._v("#")]),a._v(" 什么是 Anaconda？")]),a._v(" "),s("p",[s("code",[a._v("Anaconda")]),a._v("是一个打包的集合，里面预装好了"),s("code",[a._v("conda")]),a._v("、某个版本的"),s("code",[a._v("Python")]),a._v("、众多的"),s("code",[a._v("packages")]),a._v("包和科学计算工具等等，所以也称为"),s("code",[a._v("Python")]),a._v("的一种发行版。")]),a._v(" "),s("h3",{attrs:{id:"什么是-conda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-conda"}},[a._v("#")]),a._v(" 什么是 conda ？")]),a._v(" "),s("p",[s("code",[a._v("conda")]),a._v("可以理解为一个工具，也是一个可执行命令，其核心功能是包管理与环境管理。包管理与"),s("code",[a._v("pip")]),a._v("的使用类似，环境管理则允许用户方便地安装不同版本的"),s("code",[a._v("Python")]),a._v("，并可以快速切换。")]),a._v(" "),s("h2",{attrs:{id:"anaconda安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#anaconda安装"}},[a._v("#")]),a._v(" Anaconda安装")]),a._v(" "),s("h3",{attrs:{id:"安装教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装教程"}},[a._v("#")]),a._v(" 安装教程")]),a._v(" "),s("p",[a._v("我们选用图形界面的安装方式，具体参考官网 [0] 教程 "),s("a",{attrs:{href:"https://docs.anaconda.com/anaconda/install/mac-os/#",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://docs.anaconda.com/anaconda/install/mac-os/#"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(". Download the graphical macOS installer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" your version of Python.\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(". RECOMMENDED: Verify data integrity with SHA-256. For "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("more")]),a._v(" information on hashes, see What about cryptographic "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("hash")]),a._v(" verification?\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(". Double-click the downloaded "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" and click "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("continue")]),a._v(" to start the installation.\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(". Answer the prompts on the Introduction, Read Me, and License screens.\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(". Click the Install button to "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" Anaconda "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" your ~/opt directory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("recommended"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(":\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h3",{attrs:{id:"基本操作命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本操作命令"}},[a._v("#")]),a._v(" 基本操作命令")]),a._v(" "),s("ol",[s("li",[a._v("查看安装了哪些包")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda list\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("查看当前存在哪些虚拟环境")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("env")]),a._v(" list\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("Python 创建虚拟环境")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda create "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" your_env_name "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("python")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("x.x\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# anaconda命令创建python版本为x.x，名字为your_env_name的虚拟环境")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("激活或者切换虚拟环境")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda activate base\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 打开命令行，输入python --version检查当前 python 版本。")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("对虚拟环境中安装额外的包")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" your_env_name "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("package"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("关闭虚拟环境")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda deactivate\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"7"}},[s("li",[a._v("删除虚拟环境")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda remove "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" your_env_name "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--all")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"8"}},[s("li",[a._v("删除环境中的某个包")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda remove "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$your_env_name")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$package_name")]),a._v(" \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"9"}},[s("li",[a._v("设置国内镜像")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加Anaconda的TUNA镜像")]),a._v("\nconda config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--add")]),a._v(" channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置搜索时显示通道地址")]),a._v("\nconda config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" show_channel_urls "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yes")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("ol",{attrs:{start:"10"}},[s("li",[a._v("恢复默认镜像")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("conda config --remove-key channels\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"vs-code-编辑器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vs-code-编辑器"}},[a._v("#")]),a._v(" VS Code 编辑器")]),a._v(" "),s("p",[s("code",[a._v("VSCode")]),a._v("全称"),s("code",[a._v("Visual Studio Code")]),a._v("，是微软出的一款轻量级代码编辑器，免费、开源而且功能强大。它支持几乎所有主流的程序语言的语法高亮、智能代码补全、自定义热键、括号匹配、代码片段、代码对比"),s("code",[a._v("Diff")]),a._v("、"),s("code",[a._v("GIT")]),a._v("等特性，支持插件扩展，并针对网页开发和云端应用开发做了优化。软件跨平台支持"),s("code",[a._v("Win")]),a._v("、"),s("code",[a._v("Mac")]),a._v("以及"),s("code",[a._v("Linux")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"安装教程-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装教程-2"}},[a._v("#")]),a._v(" 安装教程")]),a._v(" "),s("p",[a._v("我们也选用图形界面的安装方式，具体参考官网 [1] 教程 "),s("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://code.visualstudio.com/"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"配置快捷启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置快捷启动"}},[a._v("#")]),a._v(" 配置快捷启动")]),a._v(" "),s("p",[a._v("如果项目中每次打开"),s("code",[a._v("VS Code")]),a._v("很麻烦，那我们可以这样配置类似于"),s("code",[a._v("Sublime Text")]),a._v("的一键启动方式，具体操作如下：")]),a._v(" "),s("ul",[s("li",[s("ol",[s("li",[a._v("在"),s("code",[a._v("VS Code")]),a._v("窗口中，按下"),s("code",[a._v("Command + Shift + P")]),a._v("打开 "),s("code",[a._v("Command Palette")])])])]),a._v(" "),s("li",[s("ol",{attrs:{start:"2"}},[s("li",[a._v("输入"),s("code",[a._v("shell command")]),a._v("，选择下面的"),s("code",[a._v("Install 'code' command in PATH")]),a._v("安装")])])]),a._v(" "),s("li",[s("ol",{attrs:{start:"3"}},[s("li",[a._v("完成后在终端中即可以使用"),s("code",[a._v("code .")]),a._v("即可快速启动"),s("code",[a._v("VS Code")]),a._v("啦")])])])]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"image-20210414204332779","data-src":"https://lisanshiyi.com/assets/language/python/python-source-code-01.png",loading:"lazy"}})]),a._v(" "),s("h2",{attrs:{id:"python-源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#python-源码"}},[a._v("#")]),a._v(" Python 源码")]),a._v(" "),s("h3",{attrs:{id:"源码下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码下载"}},[a._v("#")]),a._v(" 源码下载")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/python/cpython.git\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"依赖安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖安装"}},[a._v("#")]),a._v(" 依赖安装")]),a._v(" "),s("p",[a._v("在"),s("code",[a._v("Mac")]),a._v("环境下编译"),s("code",[a._v("Python")]),a._v("主要分为两个步骤：")]),a._v(" "),s("ul",[s("li",[a._v("Python 环境准备")]),a._v(" "),s("li",[a._v("编译、安装")])]),a._v(" "),s("p",[a._v("首先安装编译依赖的工具库：")]),a._v(" "),s("ul",[s("li",[a._v("gcc \t\t  // 编译工具")]),a._v(" "),s("li",[a._v("zlib \t\t  // 压缩、解压相关库")]),a._v(" "),s("li",[a._v("libffi \t\t // Python 所以来的用于支持 C 扩展的库")]),a._v(" "),s("li",[a._v("openssl \t// 安全套接字层密码库，Linux 中通常已具备")])]),a._v(" "),s("p",[a._v("对于 "),s("code",[a._v("MacOS")]),a._v("环境，我们执行以下安装命令：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("xcode-select "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--install")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"源码编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码编译"}},[a._v("#")]),a._v(" 源码编译")]),a._v(" "),s("p",[a._v("进入"),s("code",[a._v("Python")]),a._v("源码根目录，执行命令：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("./configure\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[s("code",[a._v("Python")]),a._v("将被编译并安装到默认目录中。如果希望将"),s("code",[a._v("Python")]),a._v("安装在特定目录，则需要在"),s("code",[a._v("make")]),a._v("前修改"),s("code",[a._v("configure")]),a._v("命令，具体如下：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("./configure "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Python待安装目录【绝对路径】"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("编译后的文件:")]),a._v(" "),s("ul",[s("li",[a._v("bin  存放的是可执行文件")]),a._v(" "),s("li",[a._v("include  存放的是 Python 源码的头文件")]),a._v(" "),s("li",[a._v("lib  存放的是 Python 标准库")]),a._v(" "),s("li",[a._v('lib/python3.9/config-3.9m-{platform}  存放的是libpython3.9m.a，该静态库用于使用C语言进行扩展Python。{platform}代表平台，比如在Mac OS上为"darwin"')]),a._v(" "),s("li",[a._v("share  存放的是帮助等文件")])]),a._v(" "),s("h3",{attrs:{id:"源码介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码介绍"}},[a._v("#")]),a._v(" 源码介绍")]),a._v(" "),s("p",[a._v("源码根目录中跟"),s("code",[a._v("Python")]),a._v("语言直接相关的目录及其功能解释如下:")]),a._v(" "),s("ul",[s("li",[a._v("Doc  主要是官方文档的说明。")]),a._v(" "),s("li",[a._v("Include  主要包括了Python的运行的头文件。")]),a._v(" "),s("li",[a._v("Lib  主要包括了用Python实现的标准库。")]),a._v(" "),s("li",[a._v("Modules  主要包含了所有用C语言编写的模块，比如random、cStringIO等。Modules中的模块是那些对速度要求非常严格的模块，而有一些对速度没有太严格要求的模块，比如os，就是用Python编写，并且放在Lib目录下的")]),a._v(" "),s("li",[a._v("Objects  主要包含了所有Python的内建对象，包括整数、list、dict等。同时，该目录还包括了Python在运行时需要的所有的内部使用对象的实现。")]),a._v(" "),s("li",[a._v("Parser  主要包含了Python解释器中的Scanner和Parser部分，即对Python源码进行词法分析和语法分析的部分。除了这些，Parser目录下还包含了一些有用的工具，这些工具能够根据Python语言的语法自动生成Python语言的词法和语法分析器，将python文件编译生成语法树等相关工作。")]),a._v(" "),s("li",[a._v("Programs  主要包括了python的入口函数。")]),a._v(" "),s("li",[a._v("Python  主要包括了Python动态运行时执行的代码，里面包括编译、字节码解释器等工作。")])]),a._v(" "),s("h3",{attrs:{id:"尝试修改源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#尝试修改源码"}},[a._v("#")]),a._v(" 尝试修改源码")]),a._v(" "),s("p",[a._v("下面编译验证"),s("code",[a._v("Python")]),a._v("的"),s("code",[a._v("Python C API")]),a._v("打印对象接口 [2]，源文件在"),s("code",[a._v("Objects/object.c")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("int\nPyObject_Print(PyObject *op, FILE *fp, int flags)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("假如我们希望在解释器交互界面中打印整数值的时候输出一段字符串，则可以修改如下函数，源文件在"),s("code",[a._v("Objects/longobject.c")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('static PyObject *\nlong_to_decimal_string(PyObject *aa)\n{\n    PyObject *str = PyUnicode_FromString("Hello！This is my new code！");\n    PyObject_Print(str, stdout, 0);\n    printf("\\n");\n\n    PyObject *v;\n    if (long_to_decimal_string_internal(aa, &v, NULL, NULL, NULL) == -1)\n        return NULL;\n    return v;\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])]),s("p",[a._v("函数实现中的前 3 行为我们加入的代码，代码具体介绍如下：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("PyUnicode_FromString")]),a._v("用于把"),s("code",[a._v("C")]),a._v("中的原生字符数组转换为"),s("code",[a._v("Python")]),a._v("中的字符串"),s("code",[a._v("Unicode")]),a._v("对象")]),a._v(" "),s("li",[s("code",[a._v("PyObject_Print")]),a._v("则将转换好的字符串对象打印至我们指定的标准输出"),s("code",[a._v("stdout")])])]),a._v(" "),s("p",[a._v("然后我们重新编译"),s("code",[a._v("Python")]),a._v("环境")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("make && make bininstall\n# 假如不符合预期也先执行\nmake clean\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("运行编译后的"),s("code",[a._v("Python")]),a._v("，输入"),s("code",[a._v("print")]),a._v("语句即可验证效果：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(">>> print(1)\n'Hello！This is my new code！'\n1\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h2",{attrs:{id:"参考文献"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),s("p",[a._v("[0] https://docs.anaconda.com/anaconda/install/mac-os/#"),s("br"),a._v("\n[1] https://code.visualstudio.com/"),s("br"),a._v("\n[2] https://flaggo.github.io/python3-source-code-analysis/preface/unix-linux-build/"),s("br")])])}),[],!1,null,null,null);s.default=n.exports}}]);